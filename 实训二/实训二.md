[TOC]







# 实训二

# 2.1 Kvm虚拟化实战

## 2.1.1 简介

​	Kernel-based Virtual Machine的简称，是一个开源的系统虚拟化模块，自Linux 2.6.20之后集成在Linux的各个主要发行版本中。它使用Linux自身的调度器进行管理，所以相对于Xen，其核心源码很少。KVM目前已成为学术界的主流VMM之一。

​	KVM的虚拟化需要硬件支持（如Intel VT技术或者AMD V技术)。是基于硬件的完全虚拟化。而Xen早期则是基于软件模拟的Para-Virtualization，新版本则是基于硬件支持的完全虚拟化。但Xen本身有自己的进程调度器，存储管理模块等，所以代码较为庞大。广为流传的商业系统虚拟化软件VMware ESX系列是基于软件模拟的Full-Virtualization。

![1573461403931](assets/1573461403931.png)

​	因为对进程管理比较麻烦,RedHat发布了一个开源项目libvirt。libvirt有命令行工具也有API，可以通过图形化界面，完成对虚拟机的管理。大多数管理平台通过libvirt来完成对KVM虚拟机的管理；比如Openstack、Cloudstack、OpenNebula等。

## 2.1.2 虚拟化概念

**1.软件模拟**

优点：能够模拟任何硬件，包括不存在的

缺点：功能非常低效，一般用于研究，生产环境不同。

代表：QEM

**2.虚拟化层翻译**

2.1 软件全虚拟化----VMware

2.2 半虚拟化----改动虚拟机的内核（linux）xen（被淘汰）

2.3 硬件支持的全虚拟化----KVM

**3.容器虚拟化 docker**

**4.虚拟化分类**

1.硬件虚拟化 硬件虚拟化代表：KVM 

2.软件虚拟化 软件虚拟化代表：Qemu

提示：硬件虚拟化是需要CPU支持，如果CPU不支持将无法创建KVM虚拟机。Qemu和KVM的最大区别就是，如果一台物理机内存直接4G，创建一个vm虚拟机分配内存分4G，在创建一个还可以分4G。支持超配，但是qemu不支持



## 2.1.3 QEMU与KVM

QUME十一个开源项目，实际就是一台硬件模拟器，可以模拟许多硬件，包括X86架构处理器、AMD64架构处理器等。

QEMU的优点是因为是纯软件模拟，所以可以在支持的平台模拟支持的设备。缺点是因为纯软件模拟，所以非常慢。

KVM只是一个内核模块，只能提供CPU和内存；所以还需要QEMU模拟IO设备；如磁盘、网卡等。























Git版本管理

ansible

Openstack云计算



Docker容器微服务实战

